
This section describes how the sound program was developed. Ut covers procedure, setup and configuration, tools and program details.



need to include a bit about the Makefile here


Description

General information about sound

Sound is a mechanical wave that is an oscillation of pressure composed of frequencies within the range of hearing.[http://en.wikipedia.org/wiki/Sound].
Humans can percieve sounds with frequencies that range from about 20Hz - the lowest of basses - to 20khz - the highest of high-pitched whining.

digital vs analog sound
Sound is inherently analog, and requires some form of digital representation to be able to be generated by the ap7000.
Regarding a sound wave as a continuous signal representing wave amplitude with respect to time, one straight-forward way of representing a sound wave digitally is to simply have an list of integer signal samples at a fixed, preferrably small, time interval.
This is indeed the format the AP7000 expects for its digital-to-analog converter.

different ways of storing sounds
samples ('bitmaps')
constructive instructions ('vectors')
a combination of the two


Development of the program

list of what we did:

* Board was set up w/ jumpers and such
* Leds and buttons were hooked up in hardware
* Leds and buttons were hooked up in software
* Code was split into separate files
* Audio was hooked up with apropriate settings
* Sound was tested to work using random noise


the following two groups of bullet points happened in parallel:

* a C sound effect synth inspired by sfxr was prototyped on a PC
* the synth was ported to avr32
* the synth was developed further on the avr32
* the synth was used in the stk1000 program to play various sound effects

* a C MOD player library + python tools inspired by amiga trackers were developed on a PC
* the library was tested on the avr32 and needed a great deal of optimization
* a great deal of optimization occurred 
* the library was used in the stk1000 program to play selected mods


finally:

* the actual main program flow was decided upon and written, hooking button and led behaviour together with sound effects and music



Configuration

We can reference our previous report here, so that we don't have to write so much.


Programming environment

JTAGICE
We can reference our previous report here, so that we don't have to write so much.

GNU Debugger
since last time:
* discovered tui mode: looks nice, breaks the makefile

Make
we can reference.

Other tools
* OpenMPT was used to examine MOD files for libmodam
* vim
* git
* github
* latex
* avr32 toolchain

Setting up the LEDs
Setting up the buttons
Setting up the audio


Program flow

* main program
* synth
* libmodam
